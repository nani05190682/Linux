======================== DNS ====================================

 Required Package : bind-9*
	
 Port - 53 (UDP )
	
	
Configuration file:
	
        
        ○ /etc/named.conf
	
        ○ /var/named/xyz
        
	○ /etc/resolv.conf
		
		
	Service : named


Step1:


cat /etc/named.rfc1912.zones >> /etc/named.conf



Step2: Modify /etc/named.conf


options {

        listen-on port 53 { 127.0.0.1; 172.16.20.128; };
	
        listen-on-v6 port 53 { ::1; };
	
        directory       "/var/named";
	
        dump-file       "/var/named/data/cache_dump.db";
	
        statistics-file "/var/named/data/named_stats.txt";
	
        memstatistics-file "/var/named/data/named_mem_stats.txt";
	
        recursing-file  "/var/named/data/named.recursing";
	
        secroots-file   "/var/named/data/named.secroots";
	
        allow-query     { localhost; 172.16.20.0/24; };

        dnssec-validation yes;

        /* Path to ISC DLV key */
        bindkeys-file "/etc/named.root.key";

        managed-keys-directory "/var/named/dynamic";

        pid-file "/run/named/named.pid";
        session-keyfile "/run/named/session.key";
};


#include "/etc/named.rfc1912.zones";

#include "/etc/named.root.key";



zone "devops.com" IN {

        type master;
	
        file "db.forward";
	
        allow-update { none; };
	
};


:wq!


STEP3:

# cd /var/named

STEP4:


# cp named.localhost db.forward


STEP5


[root@localhost named]# chown named:named db.forward 


[root@localhost named]# ls -l


total 20


drwxrwx---. 2 named named    6 Apr  1  2020 data


-rw-r-----. 1 named named  152 Jul 22 20:19 db.forward


drwxrwx---. 2 named named    6 Apr  1  2020 dynamic


-rw-r-----. 1 root  named 2253 Apr  5  2018 named.ca


-rw-r-----. 1 root  named  152 Dec 15  2009 named.empty


-rw-r-----. 1 root  named  152 Jun 21  2007 named.localhost


-rw-r-----. 1 root  named  168 Dec 15  2009 named.loopback


drwxrwx---. 2 named named    6 Apr  1  2020 slaves


[root@localhost named]# 



STEP6:


#vim db.forward



$TTL 1D


@	IN SOA	devops.com. root.devops.com. (


					06091982 ; serial
					
					
					1D	; refresh
					
					
					1H	; retry
					
					
					1W	; expire
					
					
					3H )	; minimum
					
					
					
	NS	devops.com.
	
	
	A	172.16.20.128
		
server	A	172.16.20.128

client  A	172.16.20.129


STEP7


Modify "/etc/resolv.conf"


vim /etc/resolv.conf


# Generated by NetworkManager


search devops.com


nameserver 172.16.20.128


[root@localhost named]#


Step8: Restart named service
# systemctl restart named



Step9: Validate DNS query
# host devops.com
# host server
# host client

Client Side Configiration:
STEP1:
Modify "/etc/resolv.conf"
search devops.com 
nameserver 192.168.*.* [IP of your DNS server]![image](https://user-images.githubusercontent.com/87597729/210302443-3285e1c6-b470-4cf7-8d8c-cdd7be424d07.png)


# StickyBit

![image](https://user-images.githubusercontent.com/87597729/210706105-73a8cf83-c1bb-4e09-9356-7f4590616df0.png)

